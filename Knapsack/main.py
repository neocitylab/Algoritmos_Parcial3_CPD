"""
- Fecha: 20 nov 2022
- Autor: Paula Godoy / Sofía Orjuela 
- Tema: Cython
- Tópico: Knapsack Problem
- Principal: Llama a ambos programas (Cy/Py)
"""

import knapsack_cy
import knapsack_py
import time


#___________________________________________________________________________________
val1 = [21, 11, 15, 9, 34, 25, 41, 52, 30, 58]
wt1 = [22, 12, 16, 10, 35, 26, 42, 53, 39, 5]
W1 = 100
#___________________________________________________________________________________
val3 = [243, 370, 145, 266, 342, 15, 13, 278, 168, 88, 91, 157, 414, 425, 354, 146, 268, 314, 63, 460, 114, 157, 363, 324, 236,
       171, 180, 101, 479, 212, 49, 66, 379, 481, 26, 144, 175, 98, 278, 362, 330, 261, 317, 357, 419, 452, 113, 229, 92, 207, 
       65, 394, 89, 492, 231, 314, 84, 185, 116, 214, 84, 158, 403, 74, 364, 429, 53, 80, 106, 240, 321, 146, 340, 234, 371, 365, 
       455, 35, 314, 450, 132, 213, 487, 247, 228, 201, 109, 135, 396, 61, 424, 76, 426, 255, 496, 222, 336, 49, 219, 478, 381, 
       40, 419, 443, 2, 372, 380, 33, 98, 393, 76, 367, 95, 199, 8, 391, 256, 298, 222, 83, 262, 229, 331, 64, 122, 314, 240, 156, 
       65, 473, 394, 297, 109, 499, 482, 451, 357, 170, 414, 146, 44, 1, 436, 54, 265, 473, 285, 441, 61, 164, 490, 198, 256, 284, 
       291, 134, 87, 493, 233, 150, 400, 41, 98, 263, 440, 386, 461, 134, 61, 217, 320, 238, 297, 321, 281, 489, 476, 234, 18, 456, 
       241, 85, 230, 484, 179, 78, 338, 5, 384, 134, 450, 138, 24, 15, 329, 50, 202, 493, 31, 482, 299, 265, 357, 335, 220, 160, 283, 
       234, 290, 111, 174, 218, 300, 125, 451, 399, 103, 145, 60, 290, 240, 307, 292, 374, 34, 18, 490, 494, 431, 323, 488, 24, 271, 
       194, 25, 143, 234, 187, 442, 247, 212, 424, 256, 311, 495, 410, 408, 497, 362, 165, 20, 348, 146, 236, 161, 393, 249, 1, 373, 
       72, 93, 18, 62, 235, 270, 76, 451, 162, 72, 124, 312, 31, 211, 407, 323, 11, 397, 13, 113, 307, 84, 459, 435, 232, 113, 219, 266, 
       209, 412, 319, 10, 227, 474, 70, 158, 281, 283, 249, 491, 478, 126, 384, 235, 213, 378, 221, 378, 63, 410, 22, 356, 340, 162, 343, 
       74, 197, 308, 213, 455, 488, 40, 182, 463, 434, 153, 98, 451, 73, 464, 193, 31, 388, 388, 348, 199, 421, 446, 79, 30, 118, 46, 123, 
       336, 221, 286, 264, 426, 15, 234, 480, 158, 439, 160, 267, 370, 20, 228, 392, 380, 487, 366, 168, 386, 390, 149, 384, 422, 89, 76, 
       173, 347, 366, 56, 203, 371, 33, 455, 117, 12, 475, 66, 309, 305, 401, 205, 447, 98, 414, 303, 402, 307, 437, 258, 203, 83, 430, 
       188, 112, 158, 283, 449, 329, 411, 57, 85, 198, 405, 17, 355, 456, 326, 168, 125, 228, 267, 259, 56, 109, 399, 42, 94, 294, 364, 297, 
       422, 290, 491, 5, 12, 74, 101, 89, 94, 139, 493, 338, 266, 164, 283, 234, 216, 364, 34, 434, 486, 471, 461, 136, 241, 205, 243, 30, 165, 
       40, 138, 137, 478, 265, 222, 316, 113, 382, 109, 299, 121, 376, 490, 34, 365, 115, 260, 450, 453, 107, 60, 280, 294, 143, 262, 54, 440, 
       350, 206, 431, 372, 333, 421, 276, 84, 355, 176, 11, 131, 401, 171, 40, 294, 321, 370, 303]

wt3 = [7, 1, 29, 49, 35, 11, 46, 8, 26, 22, 41, 5, 47, 41, 43, 16, 44, 9, 28, 20, 40, 8, 33, 27, 42, 40, 31, 39, 34, 1, 
      19, 8, 11, 49, 45, 47, 10, 3, 8, 17, 17, 15, 23, 44, 3, 18, 41, 42, 14, 2, 42, 17, 4, 37, 8, 1, 33, 21, 30, 21, 
      2, 5, 9, 23, 48, 23, 1, 42, 8, 5, 30, 12, 22, 31, 45, 25, 2, 37, 3, 40, 12, 44, 4, 20, 20, 29, 43, 20, 1, 38, 
      15, 20, 46, 14, 45, 20, 7, 48, 24, 43, 41, 7, 48, 32, 40, 1, 33, 8, 47, 34, 3, 43, 10, 45, 45, 17, 18, 31, 49, 30, 
      9, 1, 33, 18, 33, 9, 24, 4, 46, 22, 50, 12, 40, 24, 6, 12, 34, 35, 44, 11, 46, 38, 2, 45, 24, 8, 25, 18, 21, 9, 
      22, 19, 41, 23, 32, 46, 18, 17, 25, 9, 30, 2, 17, 2, 46, 36, 1, 43, 14, 24, 41, 1, 39, 25, 26, 23, 46, 42, 12, 3, 
      25, 5, 20, 29, 50, 14, 7, 20, 7, 43, 14, 32, 28, 50, 14, 48, 13, 19, 21, 1, 16, 14, 10, 47, 28, 8, 44, 1, 50, 20, 
      37, 49, 46, 9, 2, 38, 45, 35, 27, 12, 43, 23, 1, 23, 34, 17, 45, 24, 46, 32, 22, 42, 35, 38, 18, 2, 37, 22, 44, 43, 
      38, 36, 3, 4, 30, 34, 16, 50, 2, 19, 12, 43, 34, 10, 18, 50, 44, 16, 39, 31, 37, 33, 6, 7, 6, 29, 15, 37, 40, 44, 2, 
      49, 9, 3, 31, 39, 13, 4, 4, 45, 33, 33, 12, 19, 49, 40, 22, 25, 9, 25, 25, 29, 9, 32, 33, 39, 27, 41, 25, 32, 41, 28, 
      11, 46, 14, 8, 20, 4, 25, 50, 14, 20, 9, 13, 47, 34, 14, 11, 48, 37, 45, 40, 12, 1, 39, 26, 7, 35, 32, 8, 9, 12, 38, 
      34, 16, 32, 23, 47, 48, 26, 31, 48, 13, 11, 45, 37, 37, 20, 32, 27, 40, 21, 14, 19, 46, 44, 26, 12, 21, 7, 20, 22, 46, 
      12, 35, 45, 20, 41, 19, 45, 24, 24, 28, 20, 25, 48, 1, 15, 47, 34, 20, 8, 23, 6, 44, 22, 10, 41, 39, 38, 34, 50, 40, 
      6, 18, 46, 37, 23, 39, 3, 22, 11, 13, 5, 44, 24, 3, 13, 19, 25, 40, 49, 24, 35, 21, 47, 4, 11, 39, 14, 4, 16, 29, 50, 
      44, 5, 46, 41, 25, 47, 28, 18, 47, 7, 28, 20, 3, 19, 4, 34, 14, 40, 8, 15, 4, 6, 28, 28, 1, 22, 33, 34, 18, 39, 13, 39, 
      38, 11, 33, 15, 41, 39, 9, 25, 43, 4, 13, 41, 5, 39, 46, 45, 18, 26, 27, 17, 33, 1, 31, 21, 15, 8, 27, 47, 24, 21, 11, 
      5, 42, 23, 27, 27, 5, 10, 14, 27, 37, 43, 1, 9]

W3 = 1050
#______________________________________________________________________________________
val2 = [360, 83, 59, 130, 431, 67, 230, 52, 93, 125, 670, 892, 600, 38, 48, 147, 78, 256, 63, 17, 
       120, 164, 432, 35, 92, 110, 22, 42, 50, 323, 514, 28, 87, 73, 78, 15, 26, 78, 210, 36, 
       85, 189, 274, 43, 33, 10, 19, 389, 276, 312]

wt2 = [7, 0, 30, 22, 80, 94, 11, 81, 70, 64, 59, 18, 0, 36, 3, 8, 15, 42, 9, 0,
        42, 47, 52, 32, 26, 48, 55, 6, 29, 84, 2, 4, 18, 56, 7, 29, 93, 44, 71, 3,
         86, 66, 31, 65, 0, 79, 20, 65, 52, 13]
         
W2 = 850

W=[W1, W2, W3]
val=[val1, val2, val3]
wt=[wt1, wt2, wt3]



# Se crea un formato para la impreión sobre el fichero
formato_datos = "{:.7f}, {:7f}\n"

for i in range(3):
    for x in range(10):
        # Toma de tiempos para Python
        print("Bateria de experimentos: ", i+1)
        ini_time = time.time()
        knapsack_py.knapSack(W[i], wt[i], val[i])
        fin_time = time.time()

        time_python = fin_time-ini_time

        # Toma de tiempos para Cython
        ini_time = time.time()
        knapsack_cy.knapSack(W[i], wt[i], val[i])
        fin_time = time.time()

        time_cython = fin_time-ini_time

        with open("basic.csv", "a") as archivo:
            archivo.write(formato_datos.format(time_python, time_cython))

        print("Cython Time: ",time_cython)
        print("Python Time: ",time_python)

        print("Cython es: ",time_python/time_cython," más rapido")
        print()
    